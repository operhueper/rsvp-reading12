# DigitalOcean App Platform Specification
#
# Setup Instructions:
# 1. Push this repo to GitHub
# 2. Go to https://cloud.digitalocean.com/apps
# 3. Create App → Select GitHub → Choose this repo
# 4. DigitalOcean auto-detects settings from this file
#
# Or use CLI:
#   doctl apps create --spec do-app.yaml
#
# Update existing app:
#   doctl apps update YOUR_APP_ID --spec do-app.yaml

name: rsvp-reader
region: ams  # Amsterdam (change to: nyc, sfo, sgp, lon, fra, blr, syd)

static_sites:
  - name: web
    github:
      repo: YOUR_GITHUB_USERNAME/RSVP  # UPDATE THIS
      branch: main
      deploy_on_push: true

    # Build configuration
    build_command: npm ci && npm run build
    output_dir: dist

    # SPA routing - serve index.html for all paths
    index_document: index.html
    error_document: index.html
    catchall_document: index.html

    # Environment
    environment_slug: node-js

    # Routes
    routes:
      - path: /

domains:
  - domain: rsvp.n0name.eu
    type: PRIMARY
